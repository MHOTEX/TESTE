<!DOCTYPE html><html lang="pt-br"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Hrack Mines</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Arial',sans-serif;background-color:#f4f4f9;color:#333;text-align:center;padding:20px}h1{font-size:2.5em;margin-bottom:20px;color:#4CAF50}h2{font-size:1.8em;margin:20px 0 15px;color:#555}.container{max-width:900px;margin:0 auto;padding:20px;background:#fff;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,0.1)}.grid{display:grid;grid-template-columns:repeat(5,60px);grid-gap:10px;justify-content:center;margin-bottom:20px}.square{width:60px;height:60px;display:flex;justify-content:center;align-items:center;font-size:18px;font-weight:bold;background-color:#e0e0e0;border-radius:10px;border:1px solid #ccc;cursor:pointer;transition:background-color 0.2s ease,transform 0.2s ease}.square:hover{background-color:#ddd;transform:scale(1.1)}.bomb{background-color:#f44336;color:white;font-size:24px}.green{background-color:#4CAF50;color:white}.yellow{background-color:#FFEB3B;color:black}.red{background-color:#FF5722;color:white}.controls{margin-bottom:30px}.controls label{font-size:16px;display:block;margin-bottom:8px}.controls input[type="number"]{padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc;width:100px;text-align:center}button{padding:12px 25px;font-size:16px;margin:10px 5px;background-color:#4CAF50;color:white;border:none;border-radius:8px;cursor:pointer;transition:background-color 0.3s ease,transform:scale(1.05)}button:hover{background-color:#45a049;transform:scale(1.05)}#loadingDialog{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.8);border-radius:10px;padding:20px;display:none;flex-direction:column;justify-content:center;align-items:center;color:white;font-size:18px}#loadingDialog .spinner{width:50px;height:50px;border:5px solid #f3f3f3;border-top:5px solid #4CAF50;border-radius:50%;animation:spin 1s linear infinite}#loadingDialog p{margin-top:10px}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.footer{margin-top:20px;font-size:14px;color:#888}</style></head><body><div class="container"><h1>Hrack Mines</h1><div class="controls"><h2>Configura√ß√µes</h2><label for="bombCountInput">N√∫mero de bombas (1-24):</label><input type="number" id="bombCountInput" min="1" max="24" value="1"/><div><button id="playButton">Play (Embaralhar Bombas)</button><button id="randomMarkButton">Marcar Aleatoriamente</button><button id="playUntil100Button">Play (At√© Encontrar 100%)</button></div></div><div><h2>Tabuleiro de Marca√ß√µes</h2><div class="grid" id="markGrid"></div></div><div id="finalContainer" style="display:none;"><h2>Tabuleiro Final</h2><div class="grid" id="finalGrid"></div></div><div class="footer">¬© 2024 Hrack Mines - Desenvolvido para divers√£o!</div></div><div id="loadingDialog"><div class="spinner"></div><p id="attemptCounter">Tentativas: 0</p></div><script>const markGrid=document.getElementById('markGrid'),finalGrid=document.getElementById('finalGrid'),bombCountInput=document.getElementById('bombCountInput'),playButton=document.getElementById('playButton'),playUntil100Button=document.getElementById('playUntil100Button'),randomMarkButton=document.getElementById('randomMarkButton'),loadingDialog=document.getElementById('loadingDialog'),attemptCounter=document.getElementById('attemptCounter');let markSquares=[],finalSquares=[],markedBombs=[],squareCount=25;function initializeMarkBoard(){markSquares=[];markedBombs=[];markGrid.innerHTML='';for(let i=0;i<squareCount;i++){const square=document.createElement('div');square.classList.add('square');square.textContent='';square.addEventListener('click',()=>handleMarkSquareClick(square,i));markGrid.appendChild(square);markSquares.push(square)}}function handleMarkSquareClick(square,index){const bombCount=parseInt(bombCountInput.value);if(markedBombs.includes(index)){square.classList.remove('bomb');square.textContent='';markedBombs=markedBombs.filter(i=>i!==index)}else if(markedBombs.length<bombCount){square.classList.add('bomb');square.textContent='üí£';markedBombs.push(index)}}function moveBombs(){generateFinalBoard(false)}function moveBombsUntil100(){let attempts=0;showLoading();const interval=setInterval(()=>{attemptCounter.textContent=`Tentativas: ${++attempts}`;const found100=generateFinalBoard(true);if(found100){clearInterval(interval);hideLoading()}},100)}function generateFinalBoard(find100){const bombCount=parseInt(bombCountInput.value);if(bombCount<1||bombCount>24){alert('N√∫mero de bombas deve ser entre 1 e 24.');return false}if(markedBombs.length!==bombCount){alert(`Marque exatamente ${bombCount} bombas.`);return false}finalGrid.innerHTML='';finalSquares=[];const shuffledIndexes=[...Array(squareCount).keys()];shuffleArray(shuffledIndexes);for(let i=0;i<squareCount;i++){const square=document.createElement('div');square.classList.add('square');finalGrid.appendChild(square);finalSquares.push(square)}for(let i=0;i<bombCount;i++){const bombIndex=shuffledIndexes[i];finalSquares[bombIndex].classList.add('bomb');finalSquares[bombIndex].textContent='üí£'}let hasAbove99=false;finalSquares.forEach((square,index)=>{if(!square.classList.contains('bomb')){const correctBombsAround=getBombCountAround(index,finalSquares),markedBombsAround=getMarkedBombCountAround(index),accuracy=Math.min(Math.floor((markedBombsAround/correctBombsAround)*100),100)||0;square.textContent=`${accuracy}%`;if(accuracy>=90)square.classList.add('green');else if(accuracy>=70)square.classList.add('yellow');else square.classList.add('red');if(accuracy>=99)hasAbove99=true}});finalContainer.style.display='block';return hasAbove99}function getBombCountAround(index,squares){const neighbors=[-6,-5,-4,-1,1,4,5,6];return neighbors.reduce((count,offset)=>{const neighborIndex=index+offset;if(neighborIndex>=0&&neighborIndex<squares.length&&squares[neighborIndex]?.classList.contains('bomb'))count++;return count;},0)}function getMarkedBombCountAround(index){const neighbors=[-6,-5,-4,-1,1,4,5,6];return neighbors.reduce((count,offset)=>{const neighborIndex=index+offset;if(neighborIndex>=0&&neighborIndex<markSquares.length&&markedBombs.includes(neighborIndex))count++;return count;},0)}function showLoading(){loadingDialog.style.display='flex'}function hideLoading(){loadingDialog.style.display='none'}function shuffleArray(array){for(let i=array.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[array[i],array[j]]=[array[j],array[i]]}}window.onload=()=>{initializeMarkBoard()};playButton.addEventListener('click',moveBombs);playUntil100Button.addEventListener('click',moveBombsUntil100);randomMarkButton.addEventListener('click',()=>{initializeMarkBoard();markedBombs=[];const bombCount=parseInt(bombCountInput.value);const availableIndexes=[...Array(squareCount).keys()];shuffleArray(availableIndexes);for(let i=0;i<bombCount;i++){const index=availableIndexes[i];markedBombs.push(index);markSquares[index].classList.add('bomb');markSquares[index].textContent='üí£'}});</script></body></html>